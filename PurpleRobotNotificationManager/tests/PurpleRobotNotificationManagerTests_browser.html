<html>
	<head>
		<!-- external libs -->
		<script src="http://mohrlab.northwestern.edu/umb/manage/js/jquery-1.9.1.min.js"></script>
		<script src="http://mohrlab.northwestern.edu/umb/manage/js/underscore-min.js"></script>
		<script src="http://mohrlab.northwestern.edu/umb/manage/js/date.js"></script>
		<!-- cbits libs -->
		<script src="../PurpleRobotNotificationManager.dev.js"></script>
		
		<!-- test code -->
		<script type="text/javascript">
			$(document).ready(function() {
				// // TEST 0: can we even create PRNM in the browser?
			 //  var prnm = new PurpleRobotNotificationManager.ctor(
			 //  		{
			 //  			"env": {
			 //  				"selected": 2,
			 //  				"userCfgKey": "foo"
			 //  			}
			 //  		}
		  // 		);
			 //  alert(PurpleRobotNotificationManager.test());
			 //  prnm.main();


				// TEST 1: Test isUserAvailable
				var testable = new PurpleRobotNotificationManager.ctor(
					{
            "env": {
            	"libRefs": {
            		"underscore": _
            	},
              "prCfg": {
                "namespace": "MA",
                "key": "PRNM"
              },
              "userCfg": {
                "namespace": "MA",
                "key": "userCfg"
              },
              "appCfg": {
                "namespace": "MA",
                "key": "appCfg"
              }
            }
          });
				console.log("***** TESTABLE *****: ", JSON.stringify(testable));

				var unavailable = testable.isUserAvailable(
					{
						"promptBehavior": {
							"wakeSleepTimes": {
								"daily": {
									"wakeTime": "09:00:00",
									"sleepTime": "17:00:00"
								}
							}
						}
					},
					new Date(2013, 5, 8, 12, 0, 0)
				);

				console.log("isUserAvailable: ",unavailable);
			  
			});
		</script>
	</head>
	<body>
	</body>
</html>